

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>impedances package &mdash; PyHEADTAIL embryo documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     'embryo',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="PyHEADTAIL embryo documentation" href="index.html" />
    <link rel="up" title="&lt;no title&gt;" href="modules.html" />
    <link rel="next" title="input_parameters package" href="input_parameters.html" />
    <link rel="prev" title="cython_functions package" href="cython_functions.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="input_parameters.html" title="input_parameters package"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="cython_functions.html" title="cython_functions package"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">PyHEADTAIL embryo documentation</a> &raquo;</li>
          <li><a href="modules.html" accesskey="U">&lt;no title&gt;</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="impedances-package">
<h1>impedances package<a class="headerlink" href="#impedances-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-impedances.longitudinal_impedance">
<span id="impedances-longitudinal-impedance-module"></span><h2>impedances.longitudinal_impedance module<a class="headerlink" href="#module-impedances.longitudinal_impedance" title="Permalink to this headline">¶</a></h2>
<p><strong>Module to compute longitudinal intensity effects</strong></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Authors:</th><td class="field-body"><strong>Danilo Quartullo</strong>, <strong>Alexandre Lasheen</strong>, <strong>Hannes Bartosik</strong></td>
</tr>
</tbody>
</table>
<dl class="class">
<dt id="impedances.longitudinal_impedance.Induced_voltage_from_impedance">
<em class="property">class </em><tt class="descclassname">impedances.longitudinal_impedance.</tt><tt class="descname">Induced_voltage_from_impedance</tt><big>(</big><em>slices</em>, <em>impedance_sum</em>, <em>frequency_step</em>, <em>sum_slopes_from_induc_imp=None</em>, <em>deriv_mode=2</em>, <em>mode='only_spectrum'</em><big>)</big><a class="headerlink" href="#impedances.longitudinal_impedance.Induced_voltage_from_impedance" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p><em>Induced voltage derived from the sum of several impedances.</em></p>
<dl class="method">
<dt id="impedances.longitudinal_impedance.Induced_voltage_from_impedance.frequency_array">
<tt class="descname">frequency_array</tt><big>(</big><em>slices</em><big>)</big><a class="headerlink" href="#impedances.longitudinal_impedance.Induced_voltage_from_impedance.frequency_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to calculate the sampling frequency array through the rfftfreq
Python command. Since this command is not included in older version
of Numpy, the similar fftfreq has been used with some fixes to obtain
the same result as rfftfreq.</p>
</dd></dl>

<dl class="method">
<dt id="impedances.longitudinal_impedance.Induced_voltage_from_impedance.ind_vol_derivative">
<tt class="descname">ind_vol_derivative</tt><big>(</big><em>bunch</em><big>)</big><a class="headerlink" href="#impedances.longitudinal_impedance.Induced_voltage_from_impedance.ind_vol_derivative" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to calculate the induced voltage through the derivative of the
profile; the impedance must be of inductive type.</p>
</dd></dl>

<dl class="method">
<dt id="impedances.longitudinal_impedance.Induced_voltage_from_impedance.sum_impedances">
<tt class="descname">sum_impedances</tt><big>(</big><em>frequency</em>, <em>imped_object_sum</em><big>)</big><a class="headerlink" href="#impedances.longitudinal_impedance.Induced_voltage_from_impedance.sum_impedances" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="impedances.longitudinal_impedance.Induced_voltage_from_impedance.track">
<tt class="descname">track</tt><big>(</big><em>bunch</em><big>)</big><a class="headerlink" href="#impedances.longitudinal_impedance.Induced_voltage_from_impedance.track" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to calculate the induced voltage through the bunch spectrum, or
the derivative of profile, or both; these three choices are represented
by the mode &#8216;only_spectrum&#8217;, &#8216;only_derivative&#8217;, &#8216;spectrum + derivative&#8217;
respectively.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="impedances.longitudinal_impedance.Induced_voltage_from_wake">
<em class="property">class </em><tt class="descclassname">impedances.longitudinal_impedance.</tt><tt class="descname">Induced_voltage_from_wake</tt><big>(</big><em>slices</em>, <em>acceleration</em>, <em>wake_sum</em>, <em>bunch</em><big>)</big><a class="headerlink" href="#impedances.longitudinal_impedance.Induced_voltage_from_wake" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p><em>Induced voltage derived from the sum of several wake fields.
Apart from further optimisations, note that:</em></p>
<p><em>1) in general update_with_interpolation is faster than update_without_interpolation</em></p>
<p><em>2) in general induced_voltage_with_convolv is faster than induced_voltage_with_matrix</em></p>
<dl class="docutils">
<dt><em>3) if slices.mode == const_charge, you are obliged to use</em> </dt>
<dd><em>induced_voltage_with_matrix, then you should use update_with_interpolation</em></dd>
<dt><em>4) if slices.mode == const_space, i.e. you want to calculate slices statistics</em></dt>
<dd><em>(otherwise slices.mode == const_space_hist is faster), you should use</em>
<em>induced_voltage_with_convolv and then update_with_interpolation</em></dd>
<dt><em>5) if slices.mode == const_space_hist, use induced_voltage_with_convolv and</em></dt>
<dd><em>update_with_interpolation</em></dd>
</dl>
<dl class="method">
<dt id="impedances.longitudinal_impedance.Induced_voltage_from_wake.induced_voltage_with_convolv">
<tt class="descname">induced_voltage_with_convolv</tt><big>(</big><em>bunch</em><big>)</big><a class="headerlink" href="#impedances.longitudinal_impedance.Induced_voltage_from_wake.induced_voltage_with_convolv" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to calculate the induced voltage from wakes with convolution;
note that if slices.coord = z one has to &#8220;fix&#8221; the usual method, since
the head and the tail of the bunch are inverted.</p>
</dd></dl>

<dl class="method">
<dt id="impedances.longitudinal_impedance.Induced_voltage_from_wake.induced_voltage_with_matrix">
<tt class="descname">induced_voltage_with_matrix</tt><big>(</big><em>bunch</em><big>)</big><a class="headerlink" href="#impedances.longitudinal_impedance.Induced_voltage_from_wake.induced_voltage_with_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to calculate the induced voltage from wakes with the matrix method;
note that if slices.coord = z one has to &#8220;fix&#8221; the usual method, since
the head and the tail of the bunch are inverted.</p>
</dd></dl>

<dl class="method">
<dt id="impedances.longitudinal_impedance.Induced_voltage_from_wake.sum_wakes">
<tt class="descname">sum_wakes</tt><big>(</big><em>translation</em>, <em>wake_object_sum</em><big>)</big><a class="headerlink" href="#impedances.longitudinal_impedance.Induced_voltage_from_wake.sum_wakes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="impedances.longitudinal_impedance.Induced_voltage_from_wake.track">
<tt class="descname">track</tt><big>(</big><em>bunch</em><big>)</big><a class="headerlink" href="#impedances.longitudinal_impedance.Induced_voltage_from_wake.track" title="Permalink to this definition">¶</a></dt>
<dd><p>Note that if slices.mode = &#8216;const_charge&#8217; one is obliged to use the
matrix method for the calculation of the induced voltage; otherwise
update_with_interpolation is faster.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="impedances.longitudinal_impedance.Longitudinal_inductive_impedance">
<em class="property">class </em><tt class="descclassname">impedances.longitudinal_impedance.</tt><tt class="descname">Longitudinal_inductive_impedance</tt><big>(</big><em>Z_over_frequency</em><big>)</big><a class="headerlink" href="#impedances.longitudinal_impedance.Longitudinal_inductive_impedance" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p><em>Longitudinal inductive impedance.</em></p>
<dl class="method">
<dt id="impedances.longitudinal_impedance.Longitudinal_inductive_impedance.imped_calc">
<tt class="descname">imped_calc</tt><big>(</big><em>frequency</em><big>)</big><a class="headerlink" href="#impedances.longitudinal_impedance.Longitudinal_inductive_impedance.imped_calc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="impedances.longitudinal_impedance.Longitudinal_resonators">
<em class="property">class </em><tt class="descclassname">impedances.longitudinal_impedance.</tt><tt class="descname">Longitudinal_resonators</tt><big>(</big><em>R_S</em>, <em>frequency_R</em>, <em>Q</em><big>)</big><a class="headerlink" href="#impedances.longitudinal_impedance.Longitudinal_resonators" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p><em>Intensity effects from resonators, analytic formulas for both wake
and impedance..</em></p>
<dl class="method">
<dt id="impedances.longitudinal_impedance.Longitudinal_resonators.imped_calc">
<tt class="descname">imped_calc</tt><big>(</big><em>frequency</em><big>)</big><a class="headerlink" href="#impedances.longitudinal_impedance.Longitudinal_resonators.imped_calc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="impedances.longitudinal_impedance.Longitudinal_resonators.wake_calc">
<tt class="descname">wake_calc</tt><big>(</big><em>dtau</em><big>)</big><a class="headerlink" href="#impedances.longitudinal_impedance.Longitudinal_resonators.wake_calc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="impedances.longitudinal_impedance.Longitudinal_table">
<em class="property">class </em><tt class="descclassname">impedances.longitudinal_impedance.</tt><tt class="descname">Longitudinal_table</tt><big>(</big><em>a</em>, <em>b</em>, <em>c=None</em><big>)</big><a class="headerlink" href="#impedances.longitudinal_impedance.Longitudinal_table" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p><em>Intensity effects from impedance and wake tables.</em></p>
<dl class="method">
<dt id="impedances.longitudinal_impedance.Longitudinal_table.imped_calc">
<tt class="descname">imped_calc</tt><big>(</big><em>frequency</em><big>)</big><a class="headerlink" href="#impedances.longitudinal_impedance.Longitudinal_table.imped_calc" title="Permalink to this definition">¶</a></dt>
<dd><p>Note that we add the point (f, Z(f)) = (0, 0) to the frequency and 
impedance arrays derived from the table.</p>
</dd></dl>

<dl class="method">
<dt id="impedances.longitudinal_impedance.Longitudinal_table.wake_calc">
<tt class="descname">wake_calc</tt><big>(</big><em>dtau</em><big>)</big><a class="headerlink" href="#impedances.longitudinal_impedance.Longitudinal_table.wake_calc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="impedances.longitudinal_impedance.Longitudinal_travelling_waves">
<em class="property">class </em><tt class="descclassname">impedances.longitudinal_impedance.</tt><tt class="descname">Longitudinal_travelling_waves</tt><big>(</big><em>R_S</em>, <em>frequency_R</em>, <em>a_factor</em><big>)</big><a class="headerlink" href="#impedances.longitudinal_impedance.Longitudinal_travelling_waves" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p><em>Intensity effects from travelling waves, analytic formulas for both wake
and impedance.</em></p>
<dl class="method">
<dt id="impedances.longitudinal_impedance.Longitudinal_travelling_waves.imped_calc">
<tt class="descname">imped_calc</tt><big>(</big><em>frequency</em><big>)</big><a class="headerlink" href="#impedances.longitudinal_impedance.Longitudinal_travelling_waves.imped_calc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="impedances.longitudinal_impedance.Longitudinal_travelling_waves.wake_calc">
<tt class="descname">wake_calc</tt><big>(</big><em>dtau</em><big>)</big><a class="headerlink" href="#impedances.longitudinal_impedance.Longitudinal_travelling_waves.wake_calc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="impedances.longitudinal_impedance.update_with_interpolation">
<tt class="descclassname">impedances.longitudinal_impedance.</tt><tt class="descname">update_with_interpolation</tt><big>(</big><em>bunch</em>, <em>induced_voltage</em>, <em>slices</em><big>)</big><a class="headerlink" href="#impedances.longitudinal_impedance.update_with_interpolation" title="Permalink to this definition">¶</a></dt>
<dd><p><em>Method to update the energy of the particles through interpolation of
the induced voltage. Note that there is a fix to prevent that one neglects
all the particles situated between the first edge and the first slice center
and between the last edge and the last slice center</em></p>
</dd></dl>

<dl class="function">
<dt id="impedances.longitudinal_impedance.update_without_interpolation">
<tt class="descclassname">impedances.longitudinal_impedance.</tt><tt class="descname">update_without_interpolation</tt><big>(</big><em>bunch</em>, <em>induced_voltage</em>, <em>slices</em><big>)</big><a class="headerlink" href="#impedances.longitudinal_impedance.update_without_interpolation" title="Permalink to this definition">¶</a></dt>
<dd><p><em>Other method to update the energy of the particles; this method can be used
only if one has not used slices.mode == const_space_hist for the slicing.
Maybe this method could be optimised through Cython or trying to avoid
the for loop.</em></p>
</dd></dl>

</div>
<div class="section" id="module-impedances.plot_impedance">
<span id="impedances-plot-impedance-module"></span><h2>impedances.plot_impedance module<a class="headerlink" href="#module-impedances.plot_impedance" title="Permalink to this headline">¶</a></h2>
<p><a href="#id1"><span class="problematic" id="id2">**</span></a>Module to plot different bunch features **</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Authors:</th><td class="field-body"><strong>Helga Timko</strong>, <strong>Danilo Quartullo</strong></td>
</tr>
</tbody>
</table>
<dl class="function">
<dt id="impedances.plot_impedance.fig_folder">
<tt class="descclassname">impedances.plot_impedance.</tt><tt class="descname">fig_folder</tt><big>(</big><em>dirname</em><big>)</big><a class="headerlink" href="#impedances.plot_impedance.fig_folder" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="impedances.plot_impedance.plot_impedance_vs_frequency">
<tt class="descclassname">impedances.plot_impedance.</tt><tt class="descname">plot_impedance_vs_frequency</tt><big>(</big><em>counter</em>, <em>general_params</em>, <em>ind_volt_from_imp</em>, <em>option1='sum'</em>, <em>option2='no_spectrum'</em>, <em>option3='freq_fft'</em>, <em>style='-'</em>, <em>dirname='fig'</em><big>)</big><a class="headerlink" href="#impedances.plot_impedance.plot_impedance_vs_frequency" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot of impedance vs frequency.</p>
</dd></dl>

<dl class="function">
<dt id="impedances.plot_impedance.plot_induced_voltage_vs_bins_centers">
<tt class="descclassname">impedances.plot_impedance.</tt><tt class="descname">plot_induced_voltage_vs_bins_centers</tt><big>(</big><em>counter</em>, <em>general_params</em>, <em>ind_volt_from_imp</em>, <em>style='-'</em>, <em>dirname='fig'</em><big>)</big><a class="headerlink" href="#impedances.plot_impedance.plot_induced_voltage_vs_bins_centers" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot of induced voltage vs bin centers.</p>
</dd></dl>

</div>
<div class="section" id="module-impedances">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-impedances" title="Permalink to this headline">¶</a></h2>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">impedances package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-impedances.longitudinal_impedance">impedances.longitudinal_impedance module</a></li>
<li><a class="reference internal" href="#module-impedances.plot_impedance">impedances.plot_impedance module</a></li>
<li><a class="reference internal" href="#module-impedances">Module contents</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="cython_functions.html"
                        title="previous chapter">cython_functions package</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="input_parameters.html"
                        title="next chapter">input_parameters package</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/impedances.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="input_parameters.html" title="input_parameters package"
             >next</a> |</li>
        <li class="right" >
          <a href="cython_functions.html" title="cython_functions package"
             >previous</a> |</li>
        <li><a href="index.html">PyHEADTAIL embryo documentation</a> &raquo;</li>
          <li><a href="modules.html" >&lt;no title&gt;</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2014, CERN.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>